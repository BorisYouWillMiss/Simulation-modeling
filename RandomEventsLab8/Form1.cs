using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace RandomEventsLab8
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void TestBtn1_Click(object sender, EventArgs e)
        {
            Random rand = new Random();
            int chance = (int)editTest1.Value;
            if (rand.Next(101) >= chance)
            {
                labelTest1Text.Text =
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&**@@@@@@@@@@@@***@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&**,@@@@@@@@@@****@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@% **@@@@@@@@@@@&***,@@@@@@@@*****@@@@@@@@@@@**(@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@#*,,(@@@@@@@@&****,@@@@@@******@@@@@@@@@*,**@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@/***.*@@@@@@&***,,,@@@@,,,,***@@@@@@*.****@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@****,,(@@@,,,,,,,,,,.,,,,,,,@@@@,,*****@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@**@@@@@@@@@@@@&**,,,,,..,,,,,,,@@@,,,,,,,,...,,,,,**@@@@@@@@@@@@@*%@@@@@@\n" +
                    "@@@@@@@@***.,**@@@@@@@%,,,,,,&@@@@@@,,,,,,,@@@@@@@,,,,,,,,@@@@@@@**,.,**@@@@@@@@\n" +
                    "@@@@@@@@@@@*****,..,,,.,,,@@@,,,,,...........,,,,,@@@@,,,,,,,,.,******@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@****,,,,,,@@@,,,...,,,,,,,,,,,,,,,...,,,@@@,,,,,,,,***@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@,,,,,@@(,,..,,,,,,,,,,,,,,,,,,,,,,,..,,,@@,,,,,,,@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@,,,@@,,.,,,,,,,,,,,.......,,,,,,,,,,,.,,@@@,,,#@@@@@@@@@@@@@@@@\n" +
                    "@**............,,,%@@,,.,,,,,,,,...............,,,,,,,,.,,#@@,,,,............**&\n" +
                    "@@@@@@*******,,,,,@@,,.,,,,,,,,..................,,,,,,,.,,@@&,,,,,*******@@@@@@\n" +
                    "@@@@@@@@@@@@,,,,,(@/,,,,,,,,,,....................,,,,,,,,,&@@,,,,,,@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@,,@@/,,,,,,,,,.....................,,,,,,,,,,@@,,,@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@*,.,,,(@@,,,,,,,,,,....................,,,,,,,,,&@@,,,,.,*@@@@@@@@@@@\n" +
                    "@@@@@**,.****,,,,,@@,,,,,,,,,,,.................,,,,,,,,,,,@@,,,,,,****,.,*@@@@@\n" +
                    "@**,**********,,,,,@@,,,,,,,,,,,,.............,,,,,,,,,,,,@@@,,,,,,************&\n" +
                    "@@@@@@@@@@@@@@@@@,,,@@,,,,,,,,,,,,,,,.....,,,,,,,,,,,,,,,@@/,,,#@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@*.,,,,@@@,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@@@,,,,,,,@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@*,**,,,,,,#@@,,,,,,,,,,,,,,,,,,,,,,,,,,,@@@,,,,,,,**,,(@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@*.*******,@@,,,,@@@@,,,,,,,,,,,,,,,,,,,@@@@,.,,,#@********.*@@@@@@@@@@\n" +
                    "@@@@@@@@*,****@@@@@@@@%,,,,,.,@@@@@@@@@@@@@@@@@@@,.,,,,,,,@@@@@@@@@*****(@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@&,*,,,,,,,,,,...,,,,,....,,,,,,,,,,*,,@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@*,*****@@@@&,,,,,,,,,,,,,,,,,@@@@*******@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@/*****@@@@@@&*****,@@@@,,****,@@@@@@@*****@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@****@@@@@@@@@&*****@@@@@@#*****@@@@@@@@@****@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@% **@@@@@@@@@@@&****@@@@@@@@/****@@@@@@@@@@@@*(@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&***@@@@@@@@@@****@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&**@@@@@@@@@@@@***@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n";

            }
            else
            {
                labelTest1Text.Text =
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ..........@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.................@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@.............................@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@................................@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@..................................,@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@/ ............................................ /@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@................................................. @@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@,....................................................@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@.....................................................@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@.....................................................@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@....................................................@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@.................................................@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@............................................@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@...............@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@/,*@@@@@@@@@@@@@@@@@@@@@.....@@@@@@@@@@@@@@#,*@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@*,@@@@@@@@@@@@@@@@@@@@@@..@@@@@@@@@@@@@@@@@*,@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@/,@@@@@@@@@@.@@@@@@@@@@@@@@,*@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@,*@@@@@@@@@@@@@@@@@@@@@@@@,,*@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n" +
                    "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n";
            }
        }

        private void TestBtn2_Click(object sender, EventArgs e)
        {
            Random rand = new Random();
            int dice = rand.Next(101);
            if (dice <= 10)
            {
                label2answer.Text = "Error 404";
            }
            else if (dice >= 10 && dice <= 20)
            {
                label2answer.Text = "Unforseen error";
            }
            else if (dice >= 20 && dice <= 35)
            {
                label2answer.Text = "Try again later";
            }
            else if (dice >= 35 && dice <= 50)
            {
                label2answer.Text = ":(\n your PC ran into a problem and needs to restart";
            }
            else if (dice >= 50 && dice <= 70)
            {
                label2answer.Text = "An unexpected error happened. If this problem persists, it would be nice if you could send us the input which produced this error.";
            }
            else if (dice >= 70 && dice <= 80)
            {
                label2answer.Text = "Process system isn't responding";
            }
            else if (dice >= 80 && dice <= 100)
            {
                label2answer.Text = "An error occured";
            }
        }

        private void Form1_Load(object sender, EventArgs e)
        {

            chart1.ChartAreas[0].AxisX.MajorGrid.LineWidth = 0;
            chart1.ChartAreas[0].AxisX.MinorGrid.LineWidth = 0;
            chart1.ChartAreas[0].AxisY.MajorGrid.LineWidth = 0;
            chart1.ChartAreas[0].AxisY.MinorGrid.LineWidth = 0;

        }

        int[] probs;
        int[] dots;

        private void TestBtn3_Click(object sender, EventArgs e)
        {
            textBox.Clear();
            Random rand = new Random();

            int N = (int)numericUpDown1.Value - 1;

            dots = new int[N+1];
            dots[N] = 100;

            for (int i = 0; i < N; i++)
            {
                dots[i] = rand.Next(101);
            }

            for (int i = 0; i < N - 1; i++)
            {
                int max = -1;
                int index = 0;
                for (int j = 0; j < N - i; j++) 
                {
                    if (dots[j] > max)
                    {
                        max = dots[j];
                        index = j;
                    }
                }
                int changer = dots[N - i - 1];
                dots[N - i - 1] = dots[index];
                dots[index] = changer;
            }

            probs = new int[N+1];

            probs[0] = dots[0];

            for (int i = 1; i < N; i++)
            {
                probs[i] = dots[i] - dots[i - 1];
            }
            probs[N] = 100 - dots[N - 1];


            for (int i = 0; i < N + 1; i++)
                textBox.AppendText("Event "+i.ToString()+", probability: "+probs[i]+"%\n");
            buttonRun.Enabled = true;
        }
        private void buttonRun_Click(object sender, EventArgs e)
        {

            Random rand = new Random();
            int[] procs = new int[probs.Length];

            for (int i = 0; i < edit3.Value; i++)
            {
                int now = rand.Next(101);

                for (int j = 0; j < dots.Length; j++)
                {
                    if (j == 0 && now < dots[j])
                    {
                        procs[j]++;
                        j = dots.Length;
                    }

                    if (j > 0 && j < dots.Length - 1 && now >= dots[j] && now < dots[j + 1])
                    {
                        procs[j]++;
                        j = dots.Length;
                    }

                    if (j == dots.Length - 1)
                    {
                        procs[j]++;
                        j = dots.Length;
                    }
                }
            }

            chart1.Series[0].Points.Clear();
            for (int i = 0; i < probs.Length; i++)
            {
                chart1.Series[0].Points.AddXY(i, procs[i]);
            }

            //chart1.ChartAreas[0].AxisX.Minimum = -1;
            //chart1.ChartAreas[0].AxisX.Maximum = probs.Length - 1;
        }
    }
}
